/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: Factorial
@author: 
@tags: []
@addedOn: 2025-00-00
*/

cursor = "@"
cursor_Pressed = "!"
L = "L"
O = "O"
C = "C"
K = "K"
B = "B"
X = "X"
background = "0"

setLegend(
  [cursor, bitmap`
................
................
.......22.......
.......22.......
.......22.......
......2222......
.....22..22.....
..2222....2222..
..2222....2222..
.....22..22.....
......2222......
.......22.......
.......22.......
.......22.......
................
................`],
  [cursor_Pressed, bitmap`
................
................
.......11.......
.......11.......
.......11.......
......1111......
.....11..11.....
..1111....1111..
..1111....1111..
.....11..11.....
......1111......
.......11.......
.......11.......
.......11.......
................
................`],
  [L, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000222220000000
0000200020000000
0000202020000000
0000202020000000
0000202020000000
0000202020000000
0000202020000000
0000202022220000
0000200000020000
0000222222220000
0000000000000000
0000000000000000
0000000000000000`],
  [O, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000022222200000
0000020000200000
0000020220200000
0000020220200000
0000020220200000
0000020220200000
0000020000200000
0000022222200000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`],
  [C, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000022222200000
0000020000200000
0000020222200000
0000020200000000
0000020200000000
0000020200000000
0000020200000000
0000020222200000
0000020000200000
0000022222200000
0000000000000000
0000000000000000
0000000000000000`],
  [K, bitmap`
0000000000000000
0000000000000000
0000222002220000
0000202002020000
0000202020020000
0000202020200000
0000202200200000
0000200002000000
0000200002000000
0000202200200000
0000202020200000
0000202020020000
0000202002020000
0000222002220000
0000000000000000
0000000000000000`],
  [B, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000022222000000
0000020002000000
0000020202000000
0000020002000000
0000022220000000
0000020002000000
0000020202000000
0000020202000000
0000020002000000
0000022222000000
0000000000000000
0000000000000000
0000000000000000`],
  [X, bitmap`
0000000000000000
0000000000000000
0000000000000000
0002200000022000
0002020000202000
0000202002020000
0000020220200000
0000002002000000
0000002002000000
0000020220200000
0000202002020000
0002020000202000
0002200000022000
0000000000000000
0000000000000000
0000000000000000`],
  [background, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`]
)

setSolids([])

let level = 0
const levels = [
  map`
00000000000
00000000000
00LOCKBOX00
00000000000
00000000000
00000000000
00000000000
00000000000`
]

setMap(levels[level])

addSprite(5, 3, "@")
setPushables({
  [cursor]: []
})
onInput("a", () => {
  try{
    getFirst(cursor).x -= 1
  } catch {}
})
onInput("d", () => {
  try{
    getFirst(cursor).x += 1
  } catch {}
})
onInput("w", () => {
  try{
    getFirst(cursor).y -= 1
  }
  catch {}
})
onInput("s", () => {
  try{
    getFirst(cursor).y += 1
  } catch {}
})
onInput("j", () => {
  const c = getFirst(cursor)
  const x = c.x
  const y = c.y
  c.remove()
  addSprite(x, y, cursor_Pressed)
  setTimeout(() => {
    const pressed = getFirst(cursor_Pressed)
    pressed.remove()
    addSprite(x, y, cursor)
  }
  ,500)
})